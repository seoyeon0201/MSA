## VM에 이전에 만든 docker image를 기반으로 msa로 배포

- VM

    - 이름: Co_work_server
    - spec: Flavor: m1.medium
    - VM 이미지: ubuntu 18.04

- VM 접속

    - `VPN` 파일(.ovpn) 다운로드 후 비밀번호 입력

    ![Alt text](image-4.png)

    - `PuTTY`를 통해 주어진 IP address로 접속한 후 id와 password 입력해 VM 접속

    - 자세한 내용은 cowork git의 Cloud repository에 존재

## 1. Docker 설치 => version 20.10.24

```
sudo apt update
sudo apt install apt-transport-https ca-certificates curl software-properties-common    //apt가 https 레포지토리 사용할 수 있도록하는 패키지 설치
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -    //docker 공식 gpg 키 추가
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable"   //docker의 apt 저장소를 시스템에 추가. docker package 제공
sudo apt update
sudo apt install docker-ce	//docker-ce 설치
sudo systemctl status docker	//docker 설치 확인
sudo docker version  //docker 버전 확인
```

![Alt text](image-3.png)

## 2. Kubernetes 설치

1. kubeadm, kubelet, kubectl 설치

```
sudo apt-get install -y apt-transport-https curl
curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add –
cat <<EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list deb https://apt.kubernetes.io/ kubernetes-xenial main EOF
sudo apt-get update
sudo apt-get install -y kubelet kubeadm kubectl

//버전 확인
kubeadm version
kubelet --version
kubectl version
```

2. Master 설정

```
swapoff -a

```

3. Worker 설정

```

```